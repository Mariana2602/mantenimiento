<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <title>Hospital</title>
</head>
<body>
    <nav id="sidebarMenu" class="collapse sidebar d-flex flex-column shadow-sm">
        <img class="mt-3" src="../css/alternative-logo.jpg" alt="Grey + Sloan Memorial Hospital">
        <a href="/" class="py-2 text-decoration-none" aria-current="true">
            <i class="fas fa-home fa-fw me-3 text-white"></i><span class="text-white">Inicio</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-users fa-fw me-3 text-white"></i><span class="text-white">Gestión de Personal</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-vial fa-fw me-3 text-white"></i><span class="text-white">Laboratorio</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-boxes fa-fw me-3 text-white"></i><span class="text-white">Inventario</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-shopping-cart fa-fw me-3 text-white"></i><span class="text-white">Compras</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-tooth fa-fw me-3 text-white"></i><span class="text-white">Consultas Odontológicas</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-stethoscope fa-fw me-3 text-white"></i><span class="text-white">Consultas Médicas</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-file-invoice-dollar fa-fw me-3 text-white"></i><span class="text-white">Administración</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-procedures fa-fw me-3 text-white"></i><span class="text-white">Hospitalización</span>
        </a>
        <a href="/" class="py-2 text-decoration-none">
            <i class="fas fa-tools fa-fw me-3 text-white"></i><span class="text-white">Mantenimiento</span>
        </a>
        <a href="#" class="py-2 text-decoration-none">
            <i class="fas fa-calendar-check fa-fw me-3 text-white"></i><span class="text-white">Gestión de Citas</span>
        </a>
        <a href="../../inicio/views/index.html" class="py-2 text-decoration-none text-white">
            <i class="fas fa-external-link-square-alt text-white me-3"></i><span class="text-white">Cerrar Sesión</span>
        </a>
    </nav>
    <main role="main" class="my-4 mx-3">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p class="fs-2 fw-bold">Orden de Servicio</p>
                </div>
                <div class="col-md-12">
                    <div class="p-4 bg-white rounded-2 shadow">
                        <p class="d-inline-flex gap-1">
                            <button class="btn btn-azul" data-bs-toggle="collapse" data-bs-target="#multiCollapseExample1" aria-expanded="false">Solicitudes de servicio</button>
                            <button class="btn btn-azul" data-bs-toggle="collapse" data-bs-target="#multiCollapseExample2" aria-expanded="false">Ordenes de trabajo</button>
                            <a href="/reporte" class="btn btn-azul" type="button">Reportes</a>
                        </p>
                        <button type="button" class="btn btn-secondary text-end" data-bs-toggle="modal" data-bs-target="#modalSolicitud"><i class="fas fa-plus me-2"></i>Nueva solicitud</button>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="collapse multi-collapse" id="multiCollapseExample1">
                                    <div class="card card-body border-0">
                                        <div class="col-md-12">
                                            <div class="p-4 bg-white rounded-2 shadow border">
                                                <p class="fs-2 m-0 fw-bold">Solicitudes de servicio</p>
                                                <hr>
                                                <table class="table table-striped text-center" id="ordenes-mantenimiento">
                                                    <thead>
                                                        <tr>
                                                            <th>ID </th>
                                                            <th>Tipo</th>
                                                            <th>Descripcion</th>
                                                            <th>Ubicacion</th>
                                                            <th>Fecha</th>
                                                            <th>Equipo</th>
                                                            <th>Estado</th>
                                                            <th>Repuesto</th>
                                                            <th>Acciones</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="text-secondary"  id="data-container">
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="collapse multi-collapse" id="multiCollapseExample2">
                                    <div class="card card-body border-0">
                                        <div class="col-md-12">
                                            <div class="p-4 bg-white rounded-2 shadow border">
                                                <p class="fs-2 m-0 fw-bold">Ordenes de trabajo</p>
                                                <hr>
                                                <table class="table table-striped text-center">
                                                    <thead>
                                                        <tr>
                                                            <th>Nº</th>
                                                            <th>Equipo</th>
                                                            <th>Empleado</th>
                                                            <th>Fecha Ejecucion</th>
                                                            <th>Fecha Fin</th>
                                                            <th>Prioridad</th>
                                                            <th>Acciones</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="text-secondary"  id="datos-ordenes-trabajo">
                                                    </tbody>
                                                </table>
                                            </div>
                                                <div class="col-md-12 mt-4"> <div class="card card-body border-0 p-0"> <div class="p-4 bg-white rounded-2 shadow border">
                                                    <p class="fs-2 m-0 fw-bold">Historial de Ordenes</p>
                                                    <hr>
                                                    <div class="btn-group mb-3" role="group" aria-label="Filtros Historial">
                                                      <button type="button" class="btn btn-outline-secondary btn-filtro-historial active" data-filtro="todos">Todos</button>
                                                      <button type="button" class="btn btn-outline-secondary btn-filtro-historial" data-filtro="completados">Completados</button>
                                                      <button type="button" class="btn btn-outline-secondary btn-filtro-historial" data-filtro="eliminados">Eliminados</button>
                                                    </div>
                                                    <table class="table table-striped text-center">
                                                        <thead>
                                                            <tr>
                                                                <th>Nº</th>
                                                                <th>Equipo (ID Serv.)</th>
                                                                <th>Empleado</th>
                                                                <th>Fecha Ejecucion</th>
                                                                <th>Fecha Fin</th>
                                                                <th>Estado</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="text-secondary" id="datos-ordenes-completadas">
                                                            </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal modal-lg fade" id="modalSolicitud" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body text-start pb-5 px-5 text-secondary">
                                <p class="my-4 fs-1 fw-bold text-center">Crear solicitud de servicio</p>
                                <form class="row g-3 needs-validation" id="formularioMantenimiento" novalidate>
                                    <div class="col-md-12 mb-2">
                                        <label class="form-label">Descripcion</label>
                                        <input id="descripcion" type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Tipo de mantenimiento</label>
                                        <select id="tipoMantenimiento" class="form-select" required>
                                            <option selected>Correctivo</option>
                                            <option>Preventivo</option>
                                            <option>Proactivo</option>
                                            <option>Predictivo</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Fecha creacion</label>
                                        <input id="fechaInicio" type="date" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Estado</label>
                                        <input id="estado" type="text" class="form-control" value="Pendiente" disabled>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Ubicacion</label>
                                        <input id="ubicacion" type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-12 mb-2">
                                        <label class="form-label">Observaciones</label>
                                        <input id="observaciones" type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Equipo</label>
                                        <select id="selectEquipo" class="form-select select-equipo-dinamico" required>
                                        </select>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Repuesto</label>
                                        <select id="selectRepuesto" class="form-select select-repuesto-dinamico">
                                        </select>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button id="btnOrdenMantenimiento" type="button" class="btn btn-azul">Crear solicitud</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal modal-lg fade" id="modalEdicion" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body text-start pb-5 px-5 text-secondary">
                                <p class="my-4 fs-1 fw-bold text-center">Editar orden de mantenimiento</p>
                                <form class="row g-3 needs-validation" id="formularioEdicion" novalidate>
                                    <input type="hidden" id="mantenimientoIdEdicion" required>
                                    <div class="col-md-12">
                                        <label class="form-label">Descripcion</label>
                                        <input id="descripcionEdicion" type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Tipo de mantenimiento</label>
                                        <select id="tipoMantenimientoEdicion" class="form-select" required>
                                            <option selected>Correctivo</option>
                                            <option>Preventivo</option>
                                            <option>Proactivo</option>
                                            <option>Predictivo</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Fecha creacion</label>
                                        <input id="fechaInicioEdicion" type="date" class="form-control" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Estado</label>
                                        <input id="estadoEdicion" type="text" class="form-control" value="Pendiente" disabled>
                                    </div>
                                    <div class="col-md-6 mb-2">
                                        <label class="form-label">Ubicacion</label>
                                        <input id="ubicacionEdicion" type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-12 mb-2">
                                        <label class="form-label">Observaciones</label>
                                        <input id="observacionesEdicion" type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Equipo</label>
                                        <select id="selectEquipoEdicion" class="form-select select-equipo-dinamico" required>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Repuesto</label>
                                        <select id="selectRepuestoEdicion" class="form-select select-repuesto-dinamico" required>
                                        </select>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button id="btnActualizarMantenimiento" type="button" class="btn btn-azul">Guardar cambios</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal modal-lg fade" id="modalOrdenTrabajo" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body text-start pb-5 px-5 text-secondary">
                                <p class="mt-2 fs-1 mb-0 fw-bold text-center">Realizar orden de trabajo</p>
                                <p class="mb-4 text-center">¡Una vez realizada la orden de trabajo se guardaran los siguientes registros!</p>
                                <form class="row g-3 needs-validation" id="formularioVisualizacionOrden" required>
                                    <input type="hidden" id="mantenimientoIdOrden">
                                    <input type="hidden" id="idMantenimientoOrden">
                                    <div class="col-md-6">
                                        <label class="form-label">Equipo</label>
                                        <select id="selectEquipoOrden" class="form-select select-equipo-dinamico" disabled>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Repuesto</label>
                                        <select id="selectRepuestoOrden" class="form-select select-repuesto-dinamico" disabled>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Tipo de mantenimiento</label>
                                        <select id="tipoMantenimientoOrden" class="form-select" disabled>
                                            <option selected>Correctivo</option>
                                            <option>Preventivo</option>
                                            <option>Proactivo</option>
                                            <option>Predictivo</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Fecha creacion</label>
                                        <input id="fechaInicioOrden" type="date" class="form-control" disabled>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Estado</label>
                                        <input id="estadoOrden" type="text" class="form-control" value="En proceso" disabled>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Descripcion</label>
                                        <input id="descripcionOrden" type="text" class="form-control" disabled>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Campo</label>
                                        <input id="campoOrden" type="text" class="form-control" disabled>
                                    </div>
                                </form>
                                <hr>
                                <p class="mb-2 fw-bold text-center">Ingrese los siguientes datos para generar la orden de trabajo.</p>
                                <form class="row g-3 needs-validation" id="formOrdenTrabajo" novalidate>
                                    <div class="col-md-6">
                                        <label class="form-label">Personal asignado</label>
                                        <select id="selectPersonalMantenimiento" class="form-select" required>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Prioridad</label>
                                        <select id="prioridadTrabajo" class="form-select" required>
                                            <option selected>Media</option>
                                            <option>Alta</option>
                                            <option>Baja</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Fecha ejecucion</label>
                                        <input id="fechaInicioTrabajo" type="date" class="form-control" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Fecha fin</label>
                                        <input id="fechaFinTrabajo" type="date" class="form-control" required>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button id="btnOrdenTrabajo" type="button" class="btn btn-azul">Generar orden de trabajo</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/ordenMantenimiento.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>